(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88594,e=>{e.v({closeButton:"MobileAnchorAd-module__Np-dda__closeButton",mobileAnchorAd:"MobileAnchorAd-module__Np-dda__mobileAnchorAd",slideUp:"MobileAnchorAd-module__Np-dda__slideUp"})},47896,e=>{"use strict";var t=e.i(47167),s=e.i(43476),a=e.i(71645),l=e.i(88594);function i(){let[e,i]=(0,a.useState)(!0),[n,r]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{let e=()=>{window.scrollY>200&&!n&&r(!0)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[n]),(0,a.useEffect)(()=>{if(e&&n)try{window.adsbygoogle&&(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){console.error("AdSense error:",e)}},[e,n]),e&&n)?(0,s.jsxs)("div",{className:l.default.mobileAnchorAd,children:[(0,s.jsx)("button",{className:l.default.closeButton,onClick:()=>{i(!1)},"aria-label":"Close ad",children:"✕"}),(0,s.jsx)("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":t.default.env.NEXT_PUBLIC_ADSENSE_CLIENT,"data-ad-slot":"5267707928","data-ad-format":"auto","data-full-width-responsive":"true"})]}):null}e.s(["MobileAnchorAd",()=>i])},33999,e=>{"use strict";e.i(44885),e.i(37283),e.i(47896),e.i(14271),e.s([])},17658,e=>{"use strict";var t=e.i(14271),s=e.i(21745),a=e.i(18507),l=e.i(91223);e.s(["BinaryToggle",()=>t.BinaryToggle,"DpsToggle",()=>t.DpsToggle,"EmptyState",()=>t.EmptyState,"ErrorMessage",()=>t.ErrorMessage,"ImageWithFallback",()=>t.ImageWithFallback,"LoadingSpinner",()=>t.LoadingSpinner,"Pagination",()=>t.Pagination,"SearchInput",()=>t.SearchInput,"ServerSelect",()=>t.ServerSelect,"StateRenderer",()=>a.StateRenderer,"TabNavigation",()=>l.TabNavigation,"Tooltip",()=>s.Tooltip])},47769,e=>{e.v({active:"StatisticsPage-module__pVUOoG__active",breadcrumb:"StatisticsPage-module__pVUOoG__breadcrumb",breadcrumbCurrent:"StatisticsPage-module__pVUOoG__breadcrumbCurrent",classCard:"StatisticsPage-module__pVUOoG__classCard",classCardBg:"StatisticsPage-module__pVUOoG__classCardBg",classCardGif:"StatisticsPage-module__pVUOoG__classCardGif",classCardName:"StatisticsPage-module__pVUOoG__classCardName",classGrid:"StatisticsPage-module__pVUOoG__classGrid",classGroup:"StatisticsPage-module__pVUOoG__classGroup",classGroupTitle:"StatisticsPage-module__pVUOoG__classGroupTitle",dpsToggleGroup:"StatisticsPage-module__pVUOoG__dpsToggleGroup",dpsToggleLabel:"StatisticsPage-module__pVUOoG__dpsToggleLabel",dpsToggleOption:"StatisticsPage-module__pVUOoG__dpsToggleOption",dpsToggleSwitch:"StatisticsPage-module__pVUOoG__dpsToggleSwitch",footer:"StatisticsPage-module__pVUOoG__footer",fusionSlotItems:"StatisticsPage-module__pVUOoG__fusionSlotItems",fusionSlotTitle:"StatisticsPage-module__pVUOoG__fusionSlotTitle",fusionStoneCount:"StatisticsPage-module__pVUOoG__fusionStoneCount",fusionStoneIcon:"StatisticsPage-module__pVUOoG__fusionStoneIcon",fusionStoneInfo:"StatisticsPage-module__pVUOoG__fusionStoneInfo",fusionStoneItem:"StatisticsPage-module__pVUOoG__fusionStoneItem",fusionStoneName:"StatisticsPage-module__pVUOoG__fusionStoneName",fusionStonePercentage:"StatisticsPage-module__pVUOoG__fusionStonePercentage",fusionStoneRank:"StatisticsPage-module__pVUOoG__fusionStoneRank",fusionStoneStats:"StatisticsPage-module__pVUOoG__fusionStoneStats",fusionStonesGrid:"StatisticsPage-module__pVUOoG__fusionStonesGrid",heroBaseClass:"StatisticsPage-module__pVUOoG__heroBaseClass",heroClassName:"StatisticsPage-module__pVUOoG__heroClassName",heroInfo:"StatisticsPage-module__pVUOoG__heroInfo",heroScoreDisplay:"StatisticsPage-module__pVUOoG__heroScoreDisplay",heroThreshold:"StatisticsPage-module__pVUOoG__heroThreshold",heroThresholdLabel:"StatisticsPage-module__pVUOoG__heroThresholdLabel",heroThresholdValue:"StatisticsPage-module__pVUOoG__heroThresholdValue",leftSidebar:"StatisticsPage-module__pVUOoG__leftSidebar",noData:"StatisticsPage-module__pVUOoG__noData",pageWithAds:"StatisticsPage-module__pVUOoG__pageWithAds",rightSidebar:"StatisticsPage-module__pVUOoG__rightSidebar",sectionSubtitle:"StatisticsPage-module__pVUOoG__sectionSubtitle",sectionTitle:"StatisticsPage-module__pVUOoG__sectionTitle",setCount:"StatisticsPage-module__pVUOoG__setCount",setIcon:"StatisticsPage-module__pVUOoG__setIcon",setInfo:"StatisticsPage-module__pVUOoG__setInfo",setName:"StatisticsPage-module__pVUOoG__setName",setPercentage:"StatisticsPage-module__pVUOoG__setPercentage",setRank:"StatisticsPage-module__pVUOoG__setRank",setRankingItem:"StatisticsPage-module__pVUOoG__setRankingItem",setStats:"StatisticsPage-module__pVUOoG__setStats",skillItem:"StatisticsPage-module__pVUOoG__skillItem",skillsColumn:"StatisticsPage-module__pVUOoG__skillsColumn",skillsGrid:"StatisticsPage-module__pVUOoG__skillsGrid",statCard:"StatisticsPage-module__pVUOoG__statCard",statCardContent:"StatisticsPage-module__pVUOoG__statCardContent",statCardFusionContainer:"StatisticsPage-module__pVUOoG__statCardFusionContainer",statCardHero:"StatisticsPage-module__pVUOoG__statCardHero",statCardRow2:"StatisticsPage-module__pVUOoG__statCardRow2",statCardSkillsContainer:"StatisticsPage-module__pVUOoG__statCardSkillsContainer",statCardTitle:"StatisticsPage-module__pVUOoG__statCardTitle",statCardVpContainer:"StatisticsPage-module__pVUOoG__statCardVpContainer",statisticsHeader:"StatisticsPage-module__pVUOoG__statisticsHeader",statisticsLastUpdated:"StatisticsPage-module__pVUOoG__statisticsLastUpdated",statisticsPage:"StatisticsPage-module__pVUOoG__statisticsPage",statisticsResultsContainer:"StatisticsPage-module__pVUOoG__statisticsResultsContainer",statisticsTitle:"StatisticsPage-module__pVUOoG__statisticsTitle",statsGrid:"StatisticsPage-module__pVUOoG__statsGrid",stickyAd:"StatisticsPage-module__pVUOoG__stickyAd",topScoreContent:"StatisticsPage-module__pVUOoG__topScoreContent",vpColumn:"StatisticsPage-module__pVUOoG__vpColumn",vpColumnContent:"StatisticsPage-module__pVUOoG__vpColumnContent",vpGrid:"StatisticsPage-module__pVUOoG__vpGrid",vpStatSkillIcon:"StatisticsPage-module__pVUOoG__vpStatSkillIcon"})},49980,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),l=e.i(66027),i=e.i(27371),n=e.i(69841);e.i(33999);var r=e.i(14271),o=e.i(37283),d=e.i(47896),c=e.i(47769);let u={default:"center 25%","Neo: Blade Master":"center 20%","Neo: Soul Bender":"center 22%","Neo: Berserker":"center 38%","Neo: Asura":"center 52%","Neo: Ghostblade":"center 37%","Neo: Sword Master":"center 15%","Neo: Demon Slayer":"center 19%","Neo: Vagabond":"center 23%","Neo: Dark Templar":"center 27%","Neo: Spectre":"center 23%","Neo: Nen Master|Fighter (M)":"center 17%","Neo: Striker|Fighter (M)":"center 13%","Neo: Brawler|Fighter (M)":"center 10%","Neo: Grappler|Fighter (M)":"center 20%","Neo: Nen Master|Fighter (F)":"center 29%","Neo: Striker|Fighter (F)":"center 14%","Neo: Brawler|Fighter (F)":"center 28%","Neo: Grappler|Fighter (F)":"center 31%","Neo: Elemental Bomber":"center 18%","Neo: Glacial Master":"center 34%","Neo: Blood Mage":"center 38%","Neo: Swift Master":"center 76%","Neo: Dimension Walker":"center 18%","Neo: Elementalist":"center 29%","Neo: Summoner":"center 48%","Neo: Witch":"center 21%","Neo: Battle Mage":"center 17%","Neo: Enchantress":"center 46%","Neo: Crusader|Priest (M)":"center 33%","Neo: Monk":"center 26%","Neo: Exorcist":"center 26%","Neo: Avenger":"center 57%","Neo: Crusader|Priest (F)":"center 48%","Neo: Inquisitor":"center 42%","Neo: Shaman":"center 35%","Neo: Mistress":"center 69%","Neo: Ranger|Gunner (M)":"center 6%","Neo: Launcher|Gunner (M)":"center 0%","Neo: Mechanic|Gunner (M)":"center 15%","Neo: Spitfire|Gunner (M)":"center 29%","Neo: Blitz":"center 23%","Neo: Ranger|Gunner (F)":"center 24%","Neo: Launcher|Gunner (F)":"center 53%","Neo: Mechanic|Gunner (F)":"center 38%","Neo: Spitfire|Gunner (F)":"center 40%","Neo: Paramedic|Gunner (F)":"center 0%","Neo: Rogue":"center 61%","Neo: Necromancer":"center 49%","Neo: Kunoichi":"center 25%","Neo: Shadow Dancer":"center 31%","Neo: Secret Agent":"center 18%","Neo: Troubleshooter":"center 38%","Neo: Hitman":"center 2%","Neo: Specialist":"center 12%","Neo: Elven Knight":"center 40%","Neo: Chaos":"center 53%","Neo: Dragon Knight":"center 46%","Neo: Lightbringer":"center 36%","Neo: Vanguard":"center 17%","Neo: Skirmisher":"center 69%","Neo: Impaler":"center 47%","Neo: Dragoon":"center 56%","Neo: Creator":"center 47%","Neo: Dark Knight":"center 35%","Neo: Muse":"center 25%","Neo: Traveler":"center 36%","Neo: Hunter":"center 33%","Neo: Vigilante":"center 48%","Neo: Chimera":"center 15%"},m={default:"flex-end","Neo: Blade Master":"flex-end","Neo: Soul Bender":"flex-end","Neo: Berserker":"flex-end","Neo: Asura":"flex-start","Neo: Ghostblade":"flex-start","Neo: Sword Master":"flex-end","Neo: Demon Slayer":"flex-start","Neo: Vagabond":"flex-end","Neo: Dark Templar":"flex-end","Neo: Spectre":"flex-start","Neo: Nen Master|Fighter (M)":"flex-start","Neo: Striker|Fighter (M)":"flex-end","Neo: Brawler|Fighter (M)":"flex-start","Neo: Grappler|Fighter (M)":"flex-end","Neo: Nen Master|Fighter (F)":"flex-end","Neo: Striker|Fighter (F)":"flex-start","Neo: Brawler|Fighter (F)":"flex-end","Neo: Grappler|Fighter (F)":"flex-end","Neo: Elemental Bomber":"flex-end","Neo: Glacial Master":"flex-end","Neo: Blood Mage":"flex-start","Neo: Swift Master":"flex-end","Neo: Dimension Walker":"flex-end","Neo: Elementalist":"flex-start","Neo: Summoner":"flex-start","Neo: Witch":"flex-start","Neo: Battle Mage":"flex-end","Neo: Enchantress":"flex-start","Neo: Crusader|Priest (M)":"flex-end","Neo: Monk":"flex-end","Neo: Exorcist":"flex-end","Neo: Avenger":"flex-end","Neo: Crusader|Priest (F)":"flex-end","Neo: Inquisitor":"flex-end","Neo: Shaman":"flex-end","Neo: Mistress":"flex-start","Neo: Ranger|Gunner (M)":"flex-start","Neo: Launcher|Gunner (M)":"flex-start","Neo: Mechanic|Gunner (M)":"flex-start","Neo: Spitfire|Gunner (M)":"flex-start","Neo: Blitz":"flex-start","Neo: Ranger|Gunner (F)":"flex-start","Neo: Launcher|Gunner (F)":"flex-start","Neo: Mechanic|Gunner (F)":"flex-end","Neo: Spitfire|Gunner (F)":"flex-end","Neo: Rogue":"flex-end","Neo: Necromancer":"flex-end","Neo: Kunoichi":"flex-end","Neo: Shadow Dancer":"flex-start","Neo: Secret Agent":"flex-end","Neo: Troubleshooter":"flex-end","Neo: Hitman":"flex-end","Neo: Specialist":"flex-start","Neo: Elven Knight":"flex-end","Neo: Chaos":"flex-start","Neo: Dragon Knight":"flex-start","Neo: Lightbringer":"flex-end","Neo: Vanguard":"flex-end","Neo: Skirmisher":"flex-end","Neo: Impaler":"flex-end","Neo: Dragoon":"flex-start","Neo: Creator":"flex-end","Neo: Dark Knight":"flex-end","Neo: Muse":"flex-end","Neo: Traveler":"flex-start","Neo: Hunter":"flex-start","Neo: Vigilante":"flex-end"},p=[[{key:"shoulder",name:"Head/Shoulder"},{key:"top",name:"Top"},{key:"bracelet",name:"Bracelet"},{key:"necklace",name:"Necklace"}],[{key:"bottom",name:"Bottom"},{key:"belt",name:"Belt"},{key:"sub_equipment",name:"Sub Equipment"},{key:"ring",name:"Ring"}],[{key:"shoes",name:"Shoes"},{key:"empty_slot",name:""},{key:"earrings",name:"Earrings"},{key:"magic_stone",name:"Magic Stone"}]];function g({stats:e,type:s,getSkillIconPaths:a,getPercentageColor:l}){let i="evolution"===s?"/assets/skills/SkillEvolve/Evolve1.png":"/assets/skills/SkillEvolve/Enhance1.png",n="evolution"===s?"/assets/skills/SkillEvolve/Evolve2.png":"/assets/skills/SkillEvolve/Enhance2.png",r=e=>e>=25?1:.4+e/25*.6,o=e=>e>=25?0:(25-e)/25*100;return(0,t.jsx)("div",{children:e.map((e,d)=>{let u=a(e.name),m=e.type1_percent>=50?"#22c55e":"#dc2626",p=e.type2_percent>=50?"#22c55e":"#dc2626",g=Math.max(e.type1_percent,5),h=Math.max(e.type2_percent,5);return(0,t.jsxs)("div",{className:c.default.vpStatCard,style:{borderTop:d>0?"1px solid rgba(255, 255, 255, 0.1)":"none",paddingTop:d>0?"16px":"0",paddingBottom:"16px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[(0,t.jsx)("img",{src:u[0],alt:e.name,className:c.default.vpStatSkillIcon,style:{filter:"evolution"===s?"hue-rotate(240deg)":void 0},onError:e=>{let t=e.target,s=parseInt(t.getAttribute("data-fallback-index")||"0")+1;s<u.length?(t.src=u[s],t.setAttribute("data-fallback-index",String(s))):t.style.display="none"}}),(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("div",{style:{fontSize:"14px",fontWeight:600,color:"var(--color-text-primary)"},children:e.name}),(0,t.jsxs)("div",{style:{fontSize:"11px",color:"var(--color-text-tertiary)"},children:["Required Lv.",e.required_level]})]}),(0,t.jsxs)("span",{style:{fontSize:"14px",fontWeight:600,color:l(e.usage_percent),minWidth:"45px",textAlign:"right"},children:[e.usage_percent,"%"]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"12px"},children:[(0,t.jsx)("div",{style:{flex:g,minWidth:"5px",height:"1px",backgroundColor:m,borderRadius:"0.5px"}}),(0,t.jsx)("div",{style:{flex:h,minWidth:"5px",height:"1px",backgroundColor:p,borderRadius:"0.5px"}})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[(0,t.jsxs)("div",{style:{padding:"10px",borderRadius:"6px",backgroundColor:"rgba(0, 0, 0, 0.2)",position:"relative"},children:[(0,t.jsx)("div",{style:{opacity:r(e.type1_percent),filter:`grayscale(${o(e.type1_percent)}%)`},children:(0,t.jsxs)("div",{style:{fontSize:"12px",fontWeight:600,marginBottom:"6px",display:"flex",alignItems:"flex-start",gap:"6px"},children:[(0,t.jsx)("img",{src:i,style:{width:"14px",height:"14px"},alt:"Type 1"}),(0,t.jsx)("span",{style:{color:"var(--color-text-primary)"},children:"Type 1"})]})}),(0,t.jsxs)("span",{style:{position:"absolute",top:"10px",right:"10px",fontSize:"12px",fontWeight:600,color:l(e.type1_percent)},children:[e.type1_percent,"%"]})]}),(0,t.jsxs)("div",{style:{padding:"10px",borderRadius:"6px",backgroundColor:"rgba(0, 0, 0, 0.2)",position:"relative"},children:[(0,t.jsx)("div",{style:{opacity:r(e.type2_percent),filter:`grayscale(${o(e.type2_percent)}%)`},children:(0,t.jsxs)("div",{style:{fontSize:"12px",fontWeight:600,marginBottom:"6px",display:"flex",alignItems:"flex-start",gap:"6px"},children:[(0,t.jsx)("img",{src:n,style:{width:"14px",height:"14px"},alt:"Type 2"}),(0,t.jsx)("span",{style:{color:"var(--color-text-primary)"},children:"Type 2"})]})}),(0,t.jsxs)("span",{style:{position:"absolute",top:"10px",right:"10px",fontSize:"12px",fontWeight:600,color:l(e.type2_percent)},children:[e.type2_percent,"%"]})]})]})]},e.skill_id||e.name)})})}function h({skills:e,getSkillIconPaths:s}){let a=[...e].sort((e,t)=>(e.required_level||0)-(t.required_level||0));return(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:a.map((e,a)=>{let l=s(e.name);return(0,t.jsxs)("div",{className:c.default.skillItem,style:{backgroundColor:a%2==0?"rgba(0, 0, 0, 0.2)":"transparent"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1,overflow:"hidden"},children:[(0,t.jsx)("span",{style:{fontSize:"13px",color:"var(--color-text-tertiary)",fontWeight:500,minWidth:"25px"},children:e.required_level}),(0,t.jsx)("img",{src:l[0],alt:e.name,style:{width:"32px",height:"32px",flexShrink:0},onError:e=>{let t=e.target,s=parseInt(t.getAttribute("data-fallback-index")||"0")+1;s<l.length?(t.src=l[s],t.setAttribute("data-fallback-index",String(s))):t.style.display="none"}}),(0,t.jsx)("span",{style:{fontSize:"14px",color:"var(--color-text-primary)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[(0,t.jsxs)("div",{style:{textAlign:"right",minWidth:"70px"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",color:"var(--color-text-tertiary)",marginBottom:"2px"},children:"Usage"}),(0,t.jsxs)("div",{style:{fontSize:"14px",color:"var(--color-accent-blue)",fontWeight:600},children:[e.usage_percent?.toFixed(1)||"0.0","%"]})]}),(0,t.jsxs)("div",{style:{textAlign:"right",minWidth:"70px"},children:[(0,t.jsx)("div",{style:{fontSize:"11px",color:"var(--color-text-tertiary)",marginBottom:"2px"},children:"Avg Lv."}),(0,t.jsx)("div",{style:{fontSize:"14px",color:"var(--color-fame)",fontWeight:600},children:e.average_level?.toFixed(1)||"0.0"})]})]})]},e.name)})})}e.s(["default",0,function(){let e=(0,a.useSearchParams)(),_=(0,a.useRouter)(),f=e.get("job")||e.get("class")||"",x=e.get("baseClass")||e.get("base_class")||"",[N,S]=(0,s.useState)(null),[v,j]=(0,s.useState)("DPS"),C=f.includes("Crusader")&&"Priest (M)"===x,{data:y,isLoading:k,error:b}=(0,l.useQuery)({queryKey:["statistics",f,x,61757,C?v:null],queryFn:async()=>{if(!f||!x)return null;if(f.includes("Crusader")&&"Priest (M)"===x){let e=`${f} (${v})`,t=await (0,i.getClassStatistics)(e,x,61757);if(t&&!t.error)return t;console.log("Crusader variant data not found, falling back to combined Crusader data...")}return(0,i.getClassStatistics)(f,x,61757)},enabled:!!f&&!!x,staleTime:6e5,gcTime:18e5,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1}),G=(0,s.useCallback)((e,t)=>{let s=`${n.NEO_PREFIX}${t}`;_.replace(`/statistics?${new URLSearchParams({baseClass:e,job:s}).toString()}`)},[_]),P=(0,s.useCallback)(()=>{_.replace("/statistics")},[_]),O=(0,s.useMemo)(()=>u[`${f}|${x}`]||u[f]||u.default,[f,x]),U=(0,s.useMemo)(()=>m[`${f}|${x}`]||m[f]||m.default,[f,x]),V=(0,s.useMemo)(()=>{let e=f.replace("Neo: ","").replace(/ /g,"").toLowerCase();return`/assets/characters/${x}/${e}full.png`},[f,x]),T=(0,s.useMemo)(()=>({background:`url('${V}') no-repeat ${O} / cover, rgba(0, 0, 0, 0.4)`,backgroundBlendMode:"overlay"}),[V,O]),M=(0,s.useMemo)(()=>({justifyContent:U,textAlign:"flex-start"===U?"left":"right"}),[U]),I=(0,s.useMemo)(()=>({textAlign:"flex-start"===U?"left":"right"}),[U]),$=(0,s.useCallback)(e=>{if(!e||"string"!=typeof e)return"/assets/sets/Unknown.png";for(let[t,s]of Object.entries(n.SET_SPECIAL_MAPPINGS))if(e.includes(t))return`/assets/sets/${s}.png`;for(let t of n.SET_CATEGORIES)if(e.includes(t))return`/assets/sets/${t}.png`;return"/assets/sets/Unknown.png"},[]),w=(0,s.useCallback)(e=>`${n.API_BASE_URL}/api/item-icon/${e}`,[]),A=(0,s.useCallback)(e=>{let t=e.replace(/\s+/g,"_").replace(/:/g,"-").replace(/[!?&]/g,""),s=f.replace("Neo: ",""),a="/assets/skills";return[`${a}/${x}/${s}/${t}.png`,`${a}/${x}/${t}.png`,`${a}/General/${t}.png`]},[f,x]),E=(0,s.useCallback)(e=>{let t=new Date(e),s=t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),a=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",timeZoneName:"short"});return`${s} at ${a}`},[]),F=(0,s.useCallback)(e=>{let t=Math.max(0,Math.min(100,e))/100,s=Math.round(255+-174*t),a=Math.round(107+100*t),l=Math.round(107+-5*t);return`rgb(${s}, ${a}, ${l})`},[]),B=(0,s.useMemo)(()=>{let e=y?.title_levels;if(!e)return[];let t={};return e.forEach(e=>{let s=e.name.match(/\[Lv\.\s*(\d+)\]/i)||e.name.match(/\[(\d+)Lv\]/i);if(s){let a=parseInt(s[1]);t[a]=(t[a]||0)+e.count}}),Object.entries(t).map(([e,t])=>({level:parseInt(e),count:t})).sort((e,t)=>t.count-e.count)},[y?.title_levels]),L=(0,s.useMemo)(()=>{let e=y?.weapon_avatar_levels;if(!e)return[];let t={};return e.forEach(e=>{let s=e.name.match(/\[Lv\.\s*(\d+)\]/i)||e.name.match(/\[(\d+)Lv\]/i);if(s){let a=parseInt(s[1]);t[a]=(t[a]||0)+e.count}}),Object.entries(t).map(([e,t])=>({level:parseInt(e),count:t})).sort((e,t)=>t.count-e.count)},[y?.weapon_avatar_levels]),R=()=>C?`${f} (${v})`:f;return(0,t.jsxs)("div",{className:c.default.statisticsPage,children:[!f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:c.default.sectionTitle,children:"Class Statistics"}),(0,t.jsx)("p",{className:c.default.sectionSubtitle,children:"Fame threshold: 61,757+ | Top 10% performers"})]}),!f&&(0,t.jsx)(t.Fragment,{children:Object.entries(n.JOB_GROUPS).map(([e,s])=>(0,t.jsxs)("div",{className:c.default.classGroup,children:[(0,t.jsx)("h3",{className:c.default.classGroupTitle,children:e}),(0,t.jsx)("div",{className:c.default.classGrid,children:s.map(s=>{let a=s.replace(/ /g,"").toLowerCase(),l=N===`${e}-${s}`,i=`/assets/characters/${e}/${a}.png`,r=`/assets/characters/${e}/${a}_4x.gif`,o=`${n.NEO_PREFIX}${s}`,d=`/statistics?baseClass=${encodeURIComponent(e)}&job=${encodeURIComponent(o)}`;return(0,t.jsxs)("div",{className:c.default.classCard,onClick:()=>G(e,s),onMouseDown:e=>{1===e.button&&(e.preventDefault(),e.stopPropagation(),window.open(d,"_blank","noopener,noreferrer"))},onMouseEnter:()=>S(`${e}-${s}`),onMouseLeave:()=>S(null),children:[(0,t.jsx)("div",{className:c.default.classCardBg,style:{backgroundImage:`url('${i}')`}}),(0,t.jsx)("div",{className:c.default.classCardGif,style:{backgroundImage:`url('${r}')`,opacity:+!!l}}),(0,t.jsx)("span",{className:c.default.classCardName,children:s})]},s)})})]},e))}),f&&(0,t.jsxs)("div",{className:c.default.pageWithAds,children:[(0,t.jsx)("aside",{className:c.default.leftSidebar,children:(0,t.jsx)("div",{className:c.default.stickyAd,children:(0,t.jsx)(o.AdSense,{adSlot:"8180811725",style:{width:"160px",minHeight:"600px"}})})}),(0,t.jsxs)("div",{className:c.default.statisticsResultsContainer,children:[(0,t.jsxs)("nav",{className:c.default.breadcrumb,children:[(0,t.jsx)("a",{href:"/",children:"Home"}),(0,t.jsx)("span",{children:"›"}),(0,t.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),P()},children:"Statistics"}),(0,t.jsx)("span",{children:"›"}),(0,t.jsx)("span",{className:c.default.breadcrumbCurrent,children:R()})]}),(0,t.jsxs)("div",{className:c.default.statisticsHeader,children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:c.default.statisticsTitle,children:[R()," Statistics"]}),y?.last_updated&&(0,t.jsxs)("p",{className:c.default.statisticsLastUpdated,children:["Last updated: ",E(y.last_updated)]})]}),C&&(0,t.jsxs)("div",{className:c.default.dpsToggleGroup,children:[(0,t.jsx)("div",{className:c.default.dpsToggleLabel,children:"Crusader Build"}),(0,t.jsxs)("div",{className:c.default.dpsToggleSwitch,children:[(0,t.jsx)("div",{className:`${c.default.dpsToggleOption} ${"DPS"===v?c.default.active:""}`,onClick:()=>j("DPS"),children:"DPS"}),(0,t.jsx)("div",{className:`${c.default.dpsToggleOption} ${"Buff"===v?c.default.active:""}`,onClick:()=>j("Buff"),children:"Buff"})]})]})]}),k&&(0,t.jsx)(r.LoadingSpinner,{message:"Loading statistics..."}),b&&(0,t.jsx)(r.ErrorMessage,{message:"Failed to load statistics. Please try again."}),!k&&!b&&!y&&(0,t.jsx)(r.EmptyState,{message:"No statistics available for this class."}),y&&(0,t.jsxs)("div",{className:c.default.statsGrid,children:[(0,t.jsx)("div",{className:c.default.statCardHero,style:T,children:(0,t.jsx)("div",{className:c.default.topScoreContent,style:M,children:(0,t.jsxs)("div",{className:c.default.heroScoreDisplay,style:I,children:[(0,t.jsx)("div",{className:c.default.heroClassName,children:f}),(0,t.jsx)("div",{className:c.default.heroBaseClass,children:x}),(0,t.jsxs)("div",{className:c.default.heroThreshold,children:[(0,t.jsx)("div",{className:c.default.heroThresholdLabel,children:"Top 10% Threshold"}),(0,t.jsx)("div",{className:c.default.heroThresholdValue,children:y.top_10_percent_score?.toLocaleString()||"N/A"})]}),(0,t.jsxs)("div",{className:c.default.heroInfo,children:[y.total_characters.toLocaleString()," characters analyzed"]})]})})}),(0,t.jsxs)("div",{className:c.default.statCard,children:[(0,t.jsx)("h4",{className:c.default.statCardTitle,children:"Popular Equipment Sets"}),(0,t.jsx)("div",{className:c.default.statCardContent,children:y.set_rankings&&y.set_rankings.length>0?y.set_rankings.map(e=>(0,t.jsxs)("div",{className:c.default.setRankingItem,children:[(0,t.jsx)("img",{src:$(e.name),alt:e.name,className:c.default.setIcon,onError:e=>{e.target.style.display="none"}}),(0,t.jsxs)("div",{className:c.default.setInfo,children:[(0,t.jsx)("div",{className:c.default.setName,children:e.name}),(0,t.jsxs)("div",{className:c.default.setStats,children:[(0,t.jsxs)("span",{className:c.default.setCount,children:[e.count," users"]}),(0,t.jsxs)("span",{className:c.default.setPercentage,children:[e.percentage,"%"]})]})]})]},e.name)):(0,t.jsx)("p",{className:c.default.noData,children:"No set data available"})})]}),(0,t.jsxs)("div",{className:`${c.default.statCard} ${c.default.statCardRow2}`,children:[(0,t.jsx)("h4",{className:c.default.statCardTitle,children:"Popular Title Levels"}),(0,t.jsx)("div",{className:c.default.statCardContent,children:B.length>0?B.map((e,s)=>(0,t.jsxs)("div",{className:c.default.setRankingItem,children:[(0,t.jsx)("div",{className:c.default.setRank,children:s+1}),(0,t.jsxs)("div",{className:c.default.setInfo,children:[(0,t.jsxs)("div",{className:c.default.setName,children:["Lv. ",e.level]}),(0,t.jsx)("div",{className:c.default.setStats,children:(0,t.jsxs)("span",{className:c.default.setCount,children:[e.count," users"]})})]})]},e.level)):(0,t.jsx)("p",{className:c.default.noData,children:"No title level data available"})})]}),(0,t.jsxs)("div",{className:`${c.default.statCard} ${c.default.statCardRow2}`,children:[(0,t.jsx)("h4",{className:c.default.statCardTitle,children:"Popular Weapon Avatar Levels"}),(0,t.jsx)("div",{className:c.default.statCardContent,children:L.length>0?L.map((e,s)=>(0,t.jsxs)("div",{className:c.default.setRankingItem,children:[(0,t.jsx)("div",{className:c.default.setRank,children:s+1}),(0,t.jsxs)("div",{className:c.default.setInfo,children:[(0,t.jsxs)("div",{className:c.default.setName,children:["Lv. ",e.level]}),(0,t.jsx)("div",{className:c.default.setStats,children:(0,t.jsxs)("span",{className:c.default.setCount,children:[e.count," users"]})})]})]},e.level)):(0,t.jsx)("p",{className:c.default.noData,children:"No weapon avatar level data available"})})]}),(0,t.jsxs)("div",{className:c.default.statCardFusionContainer,children:[(0,t.jsx)("h4",{className:c.default.statCardTitle,children:"Popular Fusion Stones"}),(0,t.jsx)("div",{className:c.default.fusionStonesGrid,children:y.fusion_stones&&Object.keys(y.fusion_stones).length>0?p.flat().map(e=>{let s=y.fusion_stones?.[e.key];return s&&0!==s.length&&"empty_slot"!==e.key?(0,t.jsxs)("div",{className:c.default.fusionSlotSection,children:[(0,t.jsx)("h5",{className:c.default.fusionSlotTitle,children:e.name}),(0,t.jsx)("div",{className:c.default.fusionSlotItems,children:s.map((e,s)=>(0,t.jsxs)("div",{className:c.default.fusionStoneItem,children:[(0,t.jsx)("div",{className:c.default.fusionStoneRank,children:s+1}),(0,t.jsx)("img",{src:w(e.item_id),alt:e.name,className:c.default.fusionStoneIcon}),(0,t.jsxs)("div",{className:c.default.fusionStoneInfo,children:[(0,t.jsx)("div",{className:c.default.fusionStoneName,children:e.name}),(0,t.jsxs)("div",{className:c.default.fusionStoneStats,children:[(0,t.jsxs)("span",{className:c.default.fusionStoneCount,children:[e.count," users"]}),(0,t.jsxs)("span",{className:c.default.fusionStonePercentage,children:[e.percentage,"%"]})]})]})]},e.item_id))})]},e.key):(0,t.jsx)("div",{},e.key)}):(0,t.jsx)("p",{className:c.default.noData,children:"No fusion stone data available"})})]}),(0,t.jsx)("div",{className:c.default.statCardVpContainer,children:(0,t.jsxs)("div",{className:c.default.vpGrid,children:[(0,t.jsxs)("div",{className:c.default.vpColumn,children:[(0,t.jsx)("h4",{className:c.default.statCardTitle,children:"VP Selections"}),(0,t.jsx)("div",{className:c.default.vpColumnContent,children:y.evolution_stats&&y.evolution_stats.length>0?(0,t.jsx)(g,{stats:y.evolution_stats,type:"evolution",getSkillIconPaths:A,getPercentageColor:F}):(0,t.jsx)("p",{className:c.default.noData,children:"No VP data available"})})]}),(0,t.jsxs)("div",{className:c.default.vpColumn,children:[(0,t.jsx)("h4",{className:c.default.statCardTitle,children:"Enhancement Selections"}),(0,t.jsx)("div",{className:c.default.vpColumnContent,children:y.enhancement_stats&&y.enhancement_stats.length>0?(0,t.jsx)(g,{stats:y.enhancement_stats,type:"enhancement",getSkillIconPaths:A,getPercentageColor:F}):(0,t.jsx)("p",{className:c.default.noData,children:"No enhancement data available"})})]})]})}),(0,t.jsxs)("div",{className:c.default.statCardSkillsContainer,children:[(0,t.jsx)("h4",{className:c.default.statCardTitle,children:"Average Skill Levels"}),(0,t.jsx)("div",{className:c.default.skillsGrid,children:y.average_skill_levels&&y.average_skill_levels.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:c.default.skillsColumn,children:(0,t.jsx)(h,{skills:y.average_skill_levels.slice(0,Math.ceil(y.average_skill_levels.length/2)),getSkillIconPaths:A})}),(0,t.jsx)("div",{className:c.default.skillsColumn,children:(0,t.jsx)(h,{skills:y.average_skill_levels.slice(Math.ceil(y.average_skill_levels.length/2)),getSkillIconPaths:A})})]}):(0,t.jsx)("p",{className:c.default.noData,children:"No skill level data available"})})]})]})]}),(0,t.jsx)("aside",{className:c.default.rightSidebar,children:(0,t.jsx)("div",{className:c.default.stickyAd,children:(0,t.jsx)(o.AdSense,{adSlot:"5258424476",style:{width:"160px",minHeight:"600px"}})})}),(0,t.jsx)(d.MobileAnchorAd,{})]})]})}])}]);