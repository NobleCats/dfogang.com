(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,17658,e=>{"use strict";var a=e.i(14271),n=e.i(21745),s=e.i(18507),t=e.i(91223);e.s(["BinaryToggle",()=>a.BinaryToggle,"DpsToggle",()=>a.DpsToggle,"EmptyState",()=>a.EmptyState,"ErrorMessage",()=>a.ErrorMessage,"ImageWithFallback",()=>a.ImageWithFallback,"LoadingSpinner",()=>a.LoadingSpinner,"Pagination",()=>a.Pagination,"SearchInput",()=>a.SearchInput,"ServerSelect",()=>a.ServerSelect,"StateRenderer",()=>s.StateRenderer,"TabNavigation",()=>t.TabNavigation,"Tooltip",()=>n.Tooltip])},10743,e=>{e.v({active:"RankingPage-module__R9kR6a__active",classCard:"RankingPage-module__R9kR6a__classCard",classCardBg:"RankingPage-module__R9kR6a__classCardBg",classCardGif:"RankingPage-module__R9kR6a__classCardGif",classCardName:"RankingPage-module__R9kR6a__classCardName",classGrid:"RankingPage-module__R9kR6a__classGrid",classGroup:"RankingPage-module__R9kR6a__classGroup",classGroupTitle:"RankingPage-module__R9kR6a__classGroupTitle",controlsWrapper:"RankingPage-module__R9kR6a__controlsWrapper",dpsToggleGroup:"RankingPage-module__R9kR6a__dpsToggleGroup",dpsToggleLabel:"RankingPage-module__R9kR6a__dpsToggleLabel",dpsToggleOption:"RankingPage-module__R9kR6a__dpsToggleOption",dpsToggleSwitch:"RankingPage-module__R9kR6a__dpsToggleSwitch",footer:"RankingPage-module__R9kR6a__footer",paginationBtn:"RankingPage-module__R9kR6a__paginationBtn",paginationSimple:"RankingPage-module__R9kR6a__paginationSimple",rankingCardGrid:"RankingPage-module__R9kR6a__rankingCardGrid",rankingHeader:"RankingPage-module__R9kR6a__rankingHeader",rankingOptionsContainer:"RankingPage-module__R9kR6a__rankingOptionsContainer",rankingPage:"RankingPage-module__R9kR6a__rankingPage",rankingResultsContainer:"RankingPage-module__R9kR6a__rankingResultsContainer",sectionTitle:"RankingPage-module__R9kR6a__sectionTitle",sortBtn:"RankingPage-module__R9kR6a__sortBtn",sortButtons:"RankingPage-module__R9kR6a__sortButtons",tooltipContent:"RankingPage-module__R9kR6a__tooltipContent",tooltipIcon:"RankingPage-module__R9kR6a__tooltipIcon"})},95271,e=>{"use strict";var a=e.i(43476),n=e.i(71645),s=e.i(18566),t=e.i(66027),l=e.i(27371),r=e.i(69841),i=e.i(44885),o=e.i(14271),g=e.i(37283),d=e.i(10743);function c(){let e=(0,s.useRouter)(),c=(0,s.useSearchParams)(),_=c.get("job")||c.get("class")||"",R=c.get("baseClass")||c.get("base_class")||"",u=c.get("sort")||r.SORT_MODES.DPS_NORMAL,S=parseInt(c.get("page")||"1",10),[m,p]=(0,n.useState)(!1),[k,h]=(0,n.useState)(null),O=!!_&&r.BUFFER_CLASSES.some(e=>_.toLowerCase().includes(e.toLowerCase())),C=!O&&m&&u===r.SORT_MODES.DPS_NORMAL?r.SORT_MODES.DPS_NORMALIZED:u,{data:P,isLoading:f,error:T}=(0,t.useQuery)({queryKey:["ranking",_,C,S,R],queryFn:()=>l.getRanking(_,{sortBy:C,page:S,limit:12,baseClass:R}),enabled:!!_,staleTime:3e5}),E=a=>{let n=new URLSearchParams(c.toString());n.set("sort",a),n.set("page","1"),e.replace(`/ranking?${n.toString()}`)},N=P?Math.ceil(P.totalCount/12):1;return(0,a.jsxs)("div",{className:d.default.rankingPage,children:[(0,a.jsx)("h2",{className:d.default.sectionTitle,children:"Class Rankings"}),!_&&(0,a.jsx)(a.Fragment,{children:Object.entries(r.JOB_GROUPS).map(([n,s])=>(0,a.jsxs)("div",{className:d.default.classGroup,children:[(0,a.jsx)("h3",{className:d.default.classGroupTitle,children:n}),(0,a.jsx)("div",{className:d.default.classGrid,children:s.map(s=>{let t=s.replace(/ /g,"").toLowerCase(),l=k===`${n}-${s}`,i=`/assets/characters/${n}/${t}.png`,o=`/assets/characters/${n}/${t}_4x.gif`,g=`${r.NEO_PREFIX}${s}`,c=r.BUFFER_CLASSES.some(e=>s.toLowerCase().includes(e.toLowerCase())),_=`/ranking?baseClass=${encodeURIComponent(n)}&job=${encodeURIComponent(g)}&sort=${c?r.SORT_MODES.BUFF_SCORE:r.SORT_MODES.DPS_NORMAL}&page=1`;return(0,a.jsxs)("div",{className:d.default.classCard,onClick:()=>{let a,t,l;return a=`${r.NEO_PREFIX}${s}`,t=r.BUFFER_CLASSES.some(e=>s.toLowerCase().includes(e.toLowerCase())),void((l=new URLSearchParams).set("baseClass",n),l.set("job",a),l.set("sort",t?r.SORT_MODES.BUFF_SCORE:r.SORT_MODES.DPS_NORMAL),l.set("page","1"),e.replace(`/ranking?${l.toString()}`))},onMouseDown:e=>{1===e.button&&(e.preventDefault(),e.stopPropagation(),window.open(_,"_blank","noopener,noreferrer"))},onMouseEnter:()=>h(`${n}-${s}`),onMouseLeave:()=>h(null),children:[(0,a.jsx)("div",{className:d.default.classCardBg,style:{backgroundImage:`url('${i}')`}}),(0,a.jsx)("div",{className:d.default.classCardGif,style:{backgroundImage:`url('${o}')`,opacity:+!!l}}),(0,a.jsx)("span",{className:d.default.classCardName,children:s})]},s)})})]},n))}),_&&(0,a.jsxs)("div",{className:d.default.rankingResultsContainer,children:[(0,a.jsxs)("div",{className:d.default.rankingHeader,children:[(0,a.jsx)("h3",{id:"ranking-title",children:_}),(0,a.jsxs)("div",{className:d.default.controlsWrapper,children:[!O&&u!==r.SORT_MODES.FAME&&(0,a.jsxs)("div",{className:d.default.dpsToggleGroup,children:[(0,a.jsxs)("div",{className:d.default.dpsToggleLabel,children:["Set Normalize",(0,a.jsx)("span",{className:d.default.tooltipIcon,children:"?"}),(0,a.jsx)("div",{className:d.default.tooltipContent,children:(0,a.jsx)("p",{children:"Calculates damage based on a comparable tier of the Death in the Shadows Set."})})]}),(0,a.jsxs)("div",{className:d.default.dpsToggleSwitch,children:[(0,a.jsx)("div",{className:`${d.default.dpsToggleOption} ${m?d.default.active:""}`,onClick:()=>p(!0),children:"On"}),(0,a.jsx)("div",{className:`${d.default.dpsToggleOption} ${!m?d.default.active:""}`,onClick:()=>p(!1),children:"Off"})]})]}),(0,a.jsx)("div",{className:d.default.sortButtons,children:O?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:`${d.default.sortBtn} ${u===r.SORT_MODES.BUFF_SCORE?d.default.active:""}`,onClick:()=>E(r.SORT_MODES.BUFF_SCORE),children:"Buff Score"}),(0,a.jsx)("button",{className:`${d.default.sortBtn} ${u===r.SORT_MODES.FAME?d.default.active:""}`,onClick:()=>E(r.SORT_MODES.FAME),children:"Fame"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:`${d.default.sortBtn} ${u===r.SORT_MODES.DPS_NORMAL?d.default.active:""}`,onClick:()=>E(r.SORT_MODES.DPS_NORMAL),children:"Damage"}),(0,a.jsx)("button",{className:`${d.default.sortBtn} ${u===r.SORT_MODES.FAME?d.default.active:""}`,onClick:()=>E(r.SORT_MODES.FAME),children:"Fame"})]})})]})]}),f&&(0,a.jsx)(o.LoadingSpinner,{message:"Loading rankings..."}),T&&(0,a.jsx)(o.ErrorMessage,{message:"Failed to load rankings. Please try again."}),!f&&!T&&P?.rankings?.length===0&&(0,a.jsx)(o.EmptyState,{message:"No rankings available for this class."}),P&&P.rankings&&P.rankings.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:d.default.rankingCardGrid,children:P.rankings.map(n=>{let s;s=u===r.SORT_MODES.BUFF_SCORE?n.buffScore:C===r.SORT_MODES.DPS_NORMALIZED?n.normalizedDps:n.dps;let t=`/character?server=${n.serverId}&name=${encodeURIComponent(n.characterName)}`;return(0,a.jsx)(i.CharacterCard,{profile:n,dpsToShow:s,showBuffScore:u===r.SORT_MODES.BUFF_SCORE,detailUrl:t,onClick:()=>{var a,s;return a=n.serverId,s=n.characterName,void e.push(`/character?server=${a}&name=${encodeURIComponent(s)}`)}},n.characterId)})}),N>1&&(0,a.jsx)(o.Pagination,{currentPage:S,totalPages:N,onPageChange:a=>{let n=new URLSearchParams(c.toString());n.set("page",String(a)),e.replace(`/ranking?${n.toString()}`)}}),(0,a.jsx)(g.AdSense,{adSlot:"3266685956",style:{margin:"40px auto",maxWidth:"728px",minHeight:"90px"}})]})]})]})}e.s(["RankingPage",()=>c,"default",0,c])}]);